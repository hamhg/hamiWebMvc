<?xml version='1.0' encoding='utf-8'?>
<Statement version='1'>

<sql id='DEF_USERS_BY_USERNAME_QUERY'><![CDATA[
SELECT C_CD
       ,USER_ID AS USERNAME
       ,PASSWORD
       ,NVL(ENABLED,'1') AS ENABLED
       ,LOGIN_ID
       ,STA_YMD
       ,END_YMD
       ,USER_NM
       ,PWD_U_DATE
       ,LOGIN_DATE
       ,LOGIN_IP
       ,ERR_CNT
       ,SKIN_CD
       ,LOCK_YN
       ,LOCK_DATE
       ,SA_YN
       ,USER_CD
       ,PROFL_ID
       ,MDUL_ID
       ,MENU_ID
       ,OS_USER_YN
       ,OS_ORG_NM
       ,OS_COM_NM
       ,NOTE
  FROM TSYAU0001
 WHERE LOGIN_ID = ?
]]></sql>

<sql id='DEF_AUTHORITIES_BY_USERNAME_QUERY'><![CDATA[
SELECT C_CD,
       USER_ID AS USERNAME,
       PROFL_ID AS AUTHORITY
  FROM TSYAU0105
 WHERE USER_ID = ?
   AND TO_CHAR(SYSDATE,'YYYYMMDDHH24MISS') BETWEEN STA_YMDHMS AND END_YMDHMS
]]></sql>

<sql id='DEF_GROUP_AUTHORITIES_BY_USERNAME_QUERY'><![CDATA[
SELECT G.ID, G.GROUP_NAME, GA.AUTHORITY
  FROM GROUPS G, GROUP_MEMBERS GM, GROUP_AUTHORITIES GA
 WHERE GM.USERNAME = ?
   AND G.ID = GA.GROUP_ID
   AND G.ID = GM.GROUP_ID
]]></sql>

<sql id='DEF_CREATE_USER_SQL'><![CDATA[
INSERT INTO TSYAU0001 (C_CD, LOGIN_ID, USER_ID, PASSWORD, ENABLED) VALUES (?,?,?,?,?)
]]></sql>

<sql id='DEF_DELETE_USER_SQL'><![CDATA[
DELETE FROM TSYAU0001 WHERE C_CD = ? AND LOGIN_ID = ?
]]></sql>

<sql id='DEF_UPDATE_USER_SQL'><![CDATA[
UPDATE TSYAU0001 SET C_CD = ?, PASSWORD = ?, ENABLED = ? WHERE LOGIN_ID = ?
]]></sql>

<sql id='DEF_INSERT_AUTHORITY_SQL'><![CDATA[
INSERT INTO TSYAU0105 (C_CD, USER_ID, PROFL_ID) VALUES (?,?,?)
]]></sql>

<sql id='DEF_DELETE_USER_AUTHORITIES_SQL'><![CDATA[
DELETE FROM TSYAU0105 WHERE C_CD = ? AND USER_ID = ?
]]></sql>

<sql id='DEF_USER_EXISTS_SQL'><![CDATA[
SELECT LOGIN_ID AS USERID FROM TSYAU0001 WHERE LOGIN_ID = ?
]]></sql>

<sql id='DEF_CHANGE_PASSWORD_SQL'><![CDATA[
UPDATE TSYAU0001 SET PASSWORD = ? WHERE LOGIN_ID = ?
]]></sql>

<sql id='DEF_INSERT_AUTHORITY_SQL'><![CDATA[
INSERT INTO TSYAU0105 (LOGIN_ID, PROFL_ID) VALUES (?,?)
]]></sql>

<sql id='DEF_FIND_GROUPS_SQL'><![CDATA[
SELECT GROUP_NAME FROM GROUPS
]]></sql>

<sql id='DEF_FIND_USERS_IN_GROUP_SQL'><![CDATA[
SELECT USERID FROM GROUP_MEMBERS GM, GROUPS G WHERE GM.GROUP_ID = G.ID  AND G.GROUP_NAME = ?
]]></sql>

<sql id='DEF_INSERT_GROUP_SQL'><![CDATA[
INSERT INTO GROUPS (GROUP_NAME) VALUES (?)
]]></sql>

<sql id='DEF_FIND_GROUP_ID_SQL'><![CDATA[
SELECT ID FROM GROUPS WHERE GROUP_NAME = ?
]]></sql>

<sql id='DEF_INSERT_GROUP_AUTHORITY_SQL'><![CDATA[
INSERT INTO GROUP_AUTHORITIES (GROUP_ID, AUTHORITY) VALUES (?,?)
]]></sql>

<sql id='DEF_DELETE_GROUP_SQL'><![CDATA[
DELETE FROM GROUPS WHERE ID = ?
]]></sql>

<sql id='DEF_DELETE_GROUP_AUTHORITIES_SQL'><![CDATA[
DELETE FROM GROUP_AUTHORITIES WHERE GROUP_ID = ?
]]></sql>

<sql id='DEF_DELETE_GROUP_MEMBERS_SQL'><![CDATA[
DELETE FROM GROUP_MEMBERS WHERE GROUP_ID = ?
]]></sql>

<sql id='DEF_RENAME_GROUP_SQL'><![CDATA[
UPDATE GROUPS SET GROUP_NAME = ? WHERE GROUP_NAME = ?
]]></sql>

<sql id='DEF_INSERT_GROUP_MEMBER_SQL'><![CDATA[
INSERT INTO GROUP_MEMBERS (GROUP_ID, USERID) VALUES (?,?)
]]></sql>

<sql id='DEF_DELETE_GROUP_MEMBER_SQL'><![CDATA[
DELETE FROM GROUP_MEMBERS WHERE GROUP_ID = ? AND USERID = ?
]]></sql>

<sql id='DEF_GROUP_AUTHORITIES_QUERY_SQL'><![CDATA[
SELECT G.ID, G.GROUP_NAME, GA.AUTHORITY
  FROM GROUPS G, GROUP_AUTHORITIES GA
 WHERE G.GROUP_NAME = ?
   AND G.ID = GA.GROUP_ID
]]></sql>

<sql id='DEF_DELETE_GROUP_AUTHORITY_SQL'><![CDATA[
DELETE FROM GROUP_AUTHORITIES WHERE GROUP_ID = ? AND AUTHORITY = ?
]]></sql>

</Statement>